---
layout: post
title:  "ES动态编号一二谈"
categories: es秘籍
tags:  勤哲 excelserver 动态编号 自动编号 excel公式 填入公式
---

* content
{:toc}

## 需求
* 新建【物料表】时根据分类不同，采用不同的编码，编码规则为字头+序列号，不同字头序列号从1开始。
 
![](/img/ess12-0.png)

## 实现方法

#### 方法一
* 采用ES自带的动态编号，即【表单变量+序列号】。

![](/img/ess12-1.png)

* 然后在数据规范中绑定字头。

![](/img/ess12-2.png)
 
#### 方法二
* 从物料表筛选分类提数，使用计数构造一个Text(value,"00000000")公式。
 
![](/img/ess12-3.png)

* 实现相同效果。

![](/img/ess12-4.png)

## 小结
1. 使用自带编号简单点，不过自动编号浪费资源严重，你懂的。

2. 使用填入公式节省资源，但是修改略麻烦。

3. 大公司编号通常还是人工编制，因为编码规则往往非常复杂。