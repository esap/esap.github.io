---
layout: post
title:  "聚慧秘籍：工作流数据随时修正"
categories: 日志
tags:  ju 聚表/慧表 esap 工作流 修正 修改
---

* content
{:toc}

在ES中，工作流非常死板，管理员也只能删整个流程，任何其他人都无法修正表单里的数据，本文将演示聚表中的高阶解决方案。

## 工作流特性
JU的工作流有一些特性，无需额外字段就可以填审核或退回意见，可以直接退回给发起人等等。

* JU的工作流表单跟ES一样，管理员也只能删流程，不能直接修正数据。

例如，商品表流程跑完后，只有删除按钮，没有修改，如下图。

![](/img/ju3-1.jpg)

## ES修正方案
在传统的ES玩法中，我们要修改这个数据，需要建立一个新模板，从商品表提数，完成修改后，再回写到`商品表`

* 如果商品表单流程才跑了一半，那么我们还要回写对应的快照`_wi`表，否则工作流办理时又会把数据刷没。

## 聚表/慧表修正方案
在JU中，我们可以采用映射表来快速实现，利用`映射表模板可以跟原模板一样在工作台显示所有数据`的特性。

#### 步骤一，复制
右击商品模板，选择`复制新增`

![](/img/ju3-2.jpg)

修改新增`模板副本`的模板属性，改为`商品_修正`，此项可选

![](/img/ju3-3.jpg)

#### 步骤二，映射
右击商品修正模板，选择`管理数据表`

![](/img/ju3-5.jpg)

修改表类型为`映射表`，后台表名改为`商品表`

![](/img/ju3-4.jpg)

#### 步骤三，权限
右击商品修正模板，选择`模板权限`

![](/img/ju3-6.jpg)

一般，修正模板不需要新建

![](/img/ju3-7.jpg)

到这里就大功告成了，无回写，无提数，简直不敢相信哦~

## 实际效果
现在可以快乐的修改数据了，哈哈哈哈

![](/img/ju3-8.jpg)

## 小结
* 复制模板-映射-权限，就这么简单，你学会了吗。

* JU不需要刷_wi表，因为不存在，工作流正在办理也有效，终于可以快乐玩耍工作流了。